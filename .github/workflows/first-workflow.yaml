name: first

on:
  push:
    branches:
      - main  # Fixed incorrect spacing
  pull_request:  
  workflow_dispatch:  # Moved to the correct indentation level


env:  
  class: "Hands-on code"
  env_scope: "global"

jobs:
  runcommands-job1:
    runs-on: ubuntu-latest
    env: 
      job: "runcommands"
      env_scope: "job"

    steps:
      - name: Checkout the code
        uses: actions/checkout@v4

      - name: Run the single command
        env:
          step: "job"  # Ensure step is defined for this step
        run: |
          echo "Hello World"
          echo "scope: ${{ env.env_scope }}"
          echo "job: ${{ env.job }}"
          echo "step: ${{ env.step }}"

      - name: Run the multiple commands
        env: 
          step: "checkout"  # Ensure ENV_STEP is set here
          env_scope: "step"
        run: |
          echo "This is multiline cmd"
          echo "scope: ${{ env.env_scope }}"
          echo "job: ${{ env.job }}"
          echo "step: ${{ env.step }}"




  runcommands-job2:
    runs-on: ubuntu-latest
    needs: [runcommands-job1]  # Corrected indentation and placement

    steps:
      - name: Checkout the single code
        uses: actions/checkout@v2

      - name: Run a command
        run: echo "Hello World..!"

      - name: Run a multiline command
        run: |
          echo "this is a multiline command"
          echo "working with GitHub Action workflows"

  runcommands-job3:
    runs-on: ubuntu-latest
    needs: [runcommands-job1, runcommands-job2]  # Corrected indentation and placement

    steps:
      - name: Checkout the single code
        uses: actions/checkout@v2

      - name: Run a command
        run: echo "Hello World..!"

      - name: Run a multiline command
        run: |
          echo "this is a multiline command"
          echo "working with GitHub Action workflows"
